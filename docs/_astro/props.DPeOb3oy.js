import{ac as A,ad as D,u as I,o as T,w as B,P as c,ae as L,i as Y,af as x,ag as M,g as m,ah as N,h as U,a5 as V,ai as $,E as j,A as k,aj as q,ak as w,al as C,S as G,am as W}from"./template.DUFPx2Ye.js";import{c as z}from"./store.CCineflr.js";function J(e,r,v=r){var u=new WeakSet;A(e,"input",async n=>{var t=n?e.defaultValue:e.value;if(t=E(e)?g(t):t,v(t),c!==null&&u.add(c),await D(),t!==(t=r())){var i=e.selectionStart,l=e.selectionEnd,d=e.value.length;if(e.value=t??"",l!==null){var f=e.value.length;i===l&&l===d&&f>d?(e.selectionStart=f,e.selectionEnd=f):(e.selectionStart=i,e.selectionEnd=Math.min(l,f))}}}),(B&&e.defaultValue!==e.value||I(r)==null&&e.value)&&(v(E(e)?g(e.value):e.value),c!==null&&u.add(c)),T(()=>{var n=r();if(e===document.activeElement){var t=L??c;if(u.has(t))return}E(e)&&n===g(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function E(e){var r=e.type;return r==="number"||r==="range"}function g(e){return e===""?null:+e}function K(e,r,v,u){var n=!k||(v&q)!==0,t=(v&w)!==0,i=u,l=!0,d=()=>(l&&(l=!1,i=u),i),f;{var O=G in e||W in e;f=Y(e,r)?.set??(O&&r in e?a=>e[r]=a:void 0)}var o,P=!1;[o,P]=z(()=>e[r]),o===void 0&&u!==void 0&&(o=d(),f&&(n&&x(),f(o)));var s;if(n?s=()=>{var a=e[r];return a===void 0?d():(l=!0,a)}:s=()=>{var a=e[r];return a!==void 0&&(i=void 0),a===void 0?i:a},n&&(v&M)===0)return s;if(f){var R=e.$$legacy;return(function(a,S){return arguments.length>0?((!n||!S||R||P)&&f(S?s():a),a):s()})}var b=!1,_=j(()=>(b=!1,s()));m(_);var y=V;return(function(a,S){if(arguments.length>0){const h=S?m(_):n&&t?N(a):a;return U(_,h),b=!0,i!==void 0&&(i=h),a}return C&&b||(y.f&$)!==0?_.v:m(_)})}export{J as b,K as p};
