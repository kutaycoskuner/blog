import{af as _,ag as b,u as i,w as m,z as h,Y as v,ah as y}from"./template.qTKsncFT.js";function E(a,l,u=l){var c=new WeakSet;_(a,"input",async r=>{var e=r?a.defaultValue:a.value;if(e=t(a)?o(e):e,u(e),v!==null&&c.add(v),await b(),e!==(e=l())){var d=a.selectionStart,f=a.selectionEnd,n=a.value.length;if(a.value=e??"",f!==null){var s=a.value.length;d===f&&f===n&&s>n?(a.selectionStart=s,a.selectionEnd=s):(a.selectionStart=d,a.selectionEnd=Math.min(f,s))}}}),(h&&a.defaultValue!==a.value||i(l)==null&&a.value)&&(u(t(a)?o(a.value):a.value),v!==null&&c.add(v)),m(()=>{var r=l();if(a===document.activeElement){var e=y??v;if(c.has(e))return}t(a)&&r===o(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function t(a){var l=a.type;return l==="number"||l==="range"}function o(a){return a===""?null:+a}export{E as b};
