<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><link rel="icon" type="image/svg+xml" href="/blog/favicon-triangle.svg"><meta name="generator" content="Astro v5.15.5"><title>Blog | Kutay Coskuner</title><link rel="stylesheet" href="/blog/_astro/index.T012VP1m.css">
<link rel="stylesheet" href="/blog/_astro/_slug_.D-qcYy1_.css">
<style>input[type=range].svelte-359x9h{width:300px;margin:7px 0;background:transparent}input[type=range].svelte-359x9h::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;background:#555;border-radius:1px;border:.2px solid #000}input[type=range].svelte-359x9h::-moz-range-track{width:100%;height:3px;cursor:pointer;background:#555;border-radius:1px;border:.2px solid #000}input[type=range].svelte-359x9h::-ms-track{width:100%;height:3px;cursor:pointer;background:transparent;border-color:transparent;border-width:6px 0;color:transparent}input[type=range].svelte-359x9h::-webkit-slider-thumb{-webkit-appearance:none;border:1px solid #000;height:16px;width:16px;border-radius:50%;background:var(--col-2);cursor:pointer;margin-top:-7.5px}input[type=range].svelte-359x9h::-moz-range-thumb{border:1px solid #000;height:16px;width:16px;border-radius:50%;background:#3498db;cursor:pointer}input[type=range].svelte-359x9h::-ms-thumb{border:1px solid #000;height:16px;width:16px;border-radius:50%;background:#3498db;cursor:pointer}
</style></head> <body> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).load=e;window.dispatchEvent(new Event("astro:load"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ZzdGWt" component-url="/blog/_astro/NavigationLeftHover.8k9piGPS.js" component-export="default" renderer-url="/blog/_astro/client.svelte.CGM4NXJb.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;NavigationLeftHover&quot;,&quot;value&quot;:true}" await-children><!--[--><div class="navigation-container0 hover-control touch-control svelte-16y6g47"><div class="fixed-nav-icon hover-trans-invisible touch-menu-icon svelte-16y6g47" role="button" tabindex="0" aria-label="Open navigation"><img src="/blog/icons/menu-grid-256.png" alt="menu" class="svelte-16y6g47"/></div> <nav class="navigation hover-trans-visible touch-leftslide svelte-16y6g47"><div role="button" tabindex="0" aria-label="Close navigation"><a href="https://kutaycoskuner.github.io/" class="svelte-16y6g47">architecture</a></div> <div role="button" tabindex="0" aria-label="Close navigation"><a href="https://kutaycoskuner.github.io/port/computer_science" class="svelte-16y6g47">computer science</a></div> <div role="button" tabindex="0" aria-label="Close navigation"><a href="https://kutaycoskuner.github.io/port/game_design" class="svelte-16y6g47">game design</a></div> <div role="button" tabindex="0" aria-label="Close navigation"><a href="https://kutaycoskuner.github.io/content_tree" class="svelte-16y6g47">blog</a></div> <div role="button" tabindex="0" aria-label="Close navigation"><a href="https://kutaycoskuner.github.io/about" class="svelte-16y6g47">about</a></div> <div class="touch-only svelte-16y6g47" role="button" tabindex="0" aria-label="Close navigation"><img src="/blog/icons/arrow_left-256.png" alt="arrow" class="svelte-16y6g47"/></div> <div class="navigation-icons hover-trans-visible svelte-16y6g47"></div></nav></div><!--]--><!--astro:end--></astro-island> <astro-island uid="Z1DDvuC" component-url="/blog/_astro/GotoTop.B801Z5Vk.js" component-export="default" renderer-url="/blog/_astro/client.svelte.CGM4NXJb.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;GotoTop&quot;,&quot;value&quot;:true}" await-children><!--[--><div class="goto-top svelte-3kvxk2" role="button" tabindex="0" aria-label="Go to top"><img src="/blog//icons/arrow_left-256.png" alt="arrow" class="svelte-3kvxk2"/></div><!--]--><!--astro:end--></astro-island> <astro-island uid="VOzTC" component-url="/blog/_astro/ColorMode.2pIJkx9Z.js" component-export="default" renderer-url="/blog/_astro/client.svelte.CGM4NXJb.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;ColorMode&quot;,&quot;value&quot;:true}" await-children><!--[--><div class="ncolor-mode svelte-vukpr4" role="button" tabindex="0" aria-label="Toggle Color Mode (Current Mode: system)"><!--[--><div class="light-mode"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.4" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="square" stroke-linejoin="miter-clip" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div><!--]--></div><!--]--><!--astro:end--></astro-island> <div class="slot">  <div class="main markdown" data-astro-cid-amgwr4wo> <article class="article content" data-astro-cid-amgwr4wo> <div class="article-meta" data-astro-cid-amgwr4wo> <h1 data-astro-cid-amgwr4wo>Implemeting transform functions for peseudo-isometric camera in Unity</h1> <span data-astro-cid-amgwr4wo>Published : Wed, 26 Nov 2025</span> <span data-astro-cid-amgwr4wo>
Revision : Wed, 26 Nov 2025, v
1.1  </span> <span data-astro-cid-amgwr4wo>
Language : This content is in English.  </span> <a href="#" class="to-pdf" data-astro-cid-amgwr4wo></a> <img src="" alt="" data-astro-cid-amgwr4wo> </div> <h1 id="introduction">Introduction</h1>
<p>In this tutorial, its intended to document and provide a method to implement trasform functions for pseudo-isometric camera or more recognized but informal description the ‘strategy-game’ camera, as you see on the example gif, mostly inspired by the amazing work of t3ssel8r.</p>
<p>Assuming you find yourself here as you wanted to create some isometric looking game, or something similar. We will implement a solution (maybe not the most efficient) for this problem. About the nomenclature, isometric camera describing the symmetrical, orttographic perspective to provide 3d visualization of technical drawings, as it is often used in strategy games due to large visual areal control property. However, although it is fairly easy to switch between orthographic and real perspective camera, we will focus on perspective camera to be able to have visuals with depth is more apparent, therefore I called it pseudo-isometric. I am not truly sure if it is so called in the literature.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251125-init.gif"/><br/><sub class="caption"><i>Pseudo-Isometric camera transformations</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="what-we-will-do">What we will do?</h3>
<p>We will implement, movement, rotation and zoom functions of the camera that is ready to be implemented to your player, while explaining the math (slightly) behind it. As you comprehend the idea, you will be able to manipulate or tweak the parts depending on your needs.</p>
<p>To not lost in the directions, I would like to present name of the windows that I use in unity editor.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-unity_editor.png"/><br/><sub class="caption"><i> Orientation visual for Unity editor</i></sub><sub class="image-source"><i></i></sub></p>
<h2 id="1-implementing-planar-movement">1. Implementing planar movement</h2>
<p>Okay we have a brand new unity project with empty scene looking to us. I usually like to create a new scene to test new implementations to protect my existing scenes. This tutorial uses my current LTS version of the editor, which is Unity <code>6000.0.61f1</code>, with a writing date that is current with the latest LTS version.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>Right click on project frame &gt; scenes &gt; create &gt; scene &gt; scene</span></span></code></pre>
<p>We create new scene, I name it <code>CameraTestScene</code>. In our scene, an empty camera, directional light and vast empty space is looking at us. Now we will create our minimal setup. First, we need an object to reference our movement (interestingly we cannot recognize our transformation if the space around us is uniform on all directions). So I add a cube to scene.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-camera_test_Scene.png"/><br/><sub class="caption"><i> Creating scene</i></sub><sub class="image-source"><i></i></sub></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>Right click on hierarchy &gt; 3D Objects &gt; Cube</span></span></code></pre>
<p>For some reason, I have some weird transform on my cube, so I select the cube, then in <code>Inspector</code> window, we set position value of <code>x</code> <code>y</code> <code>z</code> axes to <code>0</code>. Then the cube should be centered in my viewport.</p>
<p>Next, I select my <code>Main Camera</code> from the scene hierarchy window. The inspector window will update with the properties of camera. Here we want to position or camera to be able to see the box for some visual reference to test if our camera is working in the future. While we can see that, our camera and view direction in the scene. It is usually good idea to have some information about how to position, and how axes and rotations are defined in Unity, to have a better grasp how things positioned and rotated in 3d space in our imagination, as it will be very helpful while debugging if we encounter any problem.</p>
<h3 id="11-standards-on-3d-space-and-perceptualization-of-movement">1.1. Standards on 3D Space and perceptualization of Movement</h3>
<p>In computer graphics world there are some things that there are consensus over, for instance setting each of the 3d axes, x, y, z perpendicular to each other is beneficial and intutive to everyone but not on all cases. However, which axis should represent the <code>up</code> is often depending on whether you conceptualize looking something on table or screen; or which directions should be positive are sometimes open thema for a debate. As there are no consensus on such things, at the same time we need a system for consistency, there are usually standards. These standards defined and used by various instituions, organizations and companies. In our case, unity is using ‘left handed coordinate system’ (will be referred as <code>lhc</code> next time in this text). But what does it mean?</p>
<p>If you close your left hand to to form a fist, then open first three fingers starting from your thumb, and lastly bend your middle finger 90 degrees front. Now your hand is representing a left handed coordinate system: whereas each of your open fingers, respectively thumb, index and middle representing respectively <code>x</code>, <code>y</code>, <code>z</code> are three perpendicular axis of 3d world. And direction of your fingers are also describing the positive directions of these axes. These axis also color coded with how computer calculates color with <code>red</code> <code>green</code> and <code>blue</code> values. So, since there are three axis and three colors, <code>x</code> is represented by <code>red</code>, <code>y</code> by <code>green</code>, and <code>z</code> by <code>blue</code>.</p>
<p class="img40"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-lhc.gif"/><br/><sub class="caption"><i>Simulating left hand coordinate system with your hand</i></sub><sub class="image-source"><i></i></sub></p>
<p>But why this is useful? It is not always easy to imagine on 3d world especially when it comes to rotation calculations. This simple hand trick easily help you to revise and correct linear transformation operations moving things out of your memory with a visual cue. Thing of it as a analogy of a black board, it provides a playground to move things out of our memory and check things back if necessary. When we want to debug something, it allows us to calculate what to expect easily. We will use this in the tutorial.</p>
<p>Now we can check it by inspecting gizmo in our scene tool. Gizmo is a simple orientation tool for us to understand which direction we are currently looking at at space (remember that, it is not possible to understand we are looking at in uniform space). Gizmos three colored axed are representing positive directions, while the uncolored ones are representing the negative directions of same axes. (since the colored axes looks like arrows they also look like that they indicate directions which I found a little bit confusing). Now while your hand in left hand coordinate system formation, if you look your palm at half angle between your thumb and middle finger, you will see the same thing axis orientation with the unity gizmo. To provide some comparison, this wont work if you do it with your right hand. While both are industry standards and used by diffierent organizations and different rationales, lets not include this to keep us focused on our topic.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-gizmo_hand.png"/><br/><sub class="caption"><i>Gizmo / Axis comparison</i></sub><sub class="image-source"><i></i></sub></p>
<p>While your hand is in <code>lhc</code> form, if you rotate your hand in a way, that your middle finger look same direction with your eyes, this is how unity camera is oriented. At this position we have oriented our eyes to unity camera. If you noticed that your eyes looking direction is now aligned with your middle finger, in other words, unity camera is looking <code>z+</code> direction by default.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251125-gizmo_hand_camera.png"/><br/><sub class="caption"><i>Camera / Hand Axis</i></sub><sub class="image-source"><i></i></sub></p>
<p>If you select Main Camera in your scene in hierarchy. You can see that camera transform helpers will be visible. please notice that camera is looking towards blue axis, which is <code>z+</code>.</p>
<p>This information is important, because we will not always have such a beautiful visual referencse, we will have to either, debug and observe it by changing values, or comprehend and set in imagination factory.</p>
<p>So lets inspect our case, we have an object staying at <code>(0, 0, 0)</code> position. To simplify lets eliminate x and y axes and assume we are looking on a simple linear <code>z</code> axis. If we want to see this object, first condition is that object should be stay in front of our camera right? Since, our camera is looking <code>+z</code> direction, we should place our camera somewhere in <code>-z</code> so that it will see <code>z=0</code> point (where our object stands) stays in <code>+z</code> axis of the camera.</p>
<h3 id="12-script-component-and-identification-of-camera">1.2. Script component and Identification of camera</h3>
<p>Enough theory for now, lets continue with the implementation. We were looking at Main Cameras properties by inspector window of unity. While it helps us to some extend, we need to define our own behaviors to gain more control over our camera. In order to do that we want to connect camera with c# script that we will define our behavior. On the bottom of inspector window click add component button, then select new script (you can search to find) then we name it <code>PseudoIsometricCamera</code> and create.</p>
<p class="img40"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-component_pseudo.png"/><br/><sub class="caption"><i>Creating script as component</i></sub><sub class="image-source"><i></i></sub></p>
<p>We should be able to see our <code>C#</code> script in our asset window. When we double click it it will be open in our IDE. In my case it is visual studio.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-monobehaviour.png"/><br/><sub class="caption"><i>Monobehaviour script template</i></sub><sub class="image-source"><i></i></sub></p>
<p>We see a minimal blueprint for MonoBehaviour c# script where we define our camera transformations. At script window, we can manipulate existing properties of camera by some rules, or define some new properties.</p>
<p>So lets provide some definitions, first we need to point our camera to our script so it recognizes it. In order to give some inputs and group those inputs on script on inspector we also add headers directly inside our PseudoIsometricCamera class.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">public</span><span style="color:#CB7676"> class</span><span style="color:#5DA994"> PseudoIsometricCamera</span><span style="color:#666666"> :</span><span style="color:#5DA994"> MonoBehaviour</span></span>
<span class="line"><span style="color:#666666">{</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">References</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#5DA994"> Camera</span><span style="color:#80A665"> cam</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#DBD7CAEE">    ...</span></span></code></pre>
<p>After saving our script in our IDE, we should be able to see input in our Unity Editor under our script component. Lets drag and drop our main camera to this slot. So when we refer we use <code>cam</code> variable in our script, script will know that we are talking about the camera object named Main Camera in scene.</p>
<p>Then we can quicly test if we can control our camera through our script. At this state, if we press play. We should be able to see our box on the game window. As we nicely set poisitons for our camera and object to be able to see the cube within our frame.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-game_with_cube1.png"/><br/><sub class="caption"><i>Game window: with cube</i></sub><sub class="image-source"><i></i></sub></p>
<p>Lets change the position of our camera. We can use <code>Start()</code> function for it. As it states on the comment. Start script run once when the MonoBehaviour is created. A vector object, in unity could represent many things, such as point, direction, color etc. In our case it is representing a position as point each consequtive float number value is representing axes of the 3d space. Lets raise our from the gorund camera on <code>y</code> axis to give a bit height, while keeping our <code>z</code> value same. As isometric camera looks their scenes from above, it would make sense.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#4D9375">   void</span><span style="color:#80A665"> Start</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">   {</span></span>
<span class="line"><span style="color:#BD976A">       cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#CB7676"> new</span><span style="color:#5DA994"> Vector3</span><span style="color:#666666">(</span><span style="color:#4C9A91">0f</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 6f</span><span style="color:#666666">,</span><span style="color:#CB7676"> -</span><span style="color:#4C9A91">10f</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">   }</span></span></code></pre>
<p>If you dont see slightly see box from above then everything is working as expected! So what we did: We introduced our camera object to our script, our camera object has transform property that holds position, rotation and scale values. Then we manipulated our position value within our script. How do we know and these properties exists? By simply reading unity docs as primary source.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-game_with_cube2.png"/><br/><sub class="caption"><i>Game window: with cube looking above</i></sub><sub class="image-source"><i></i></sub></p>
<p>Now we are looking our scene a bit above, we understand as seeing our boxes it is still in our frame slightly. Next, we want to at our object, We need to change our looking direction. or in other words rotate our camera.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-view_dir.png"/><br/><sub class="caption"><i>What it is / What we want in current state</i></sub><sub class="image-source"><i></i></sub></p>
<p>Unity provides ease for us to use here with build in <code>transform.lookAt(target)</code> function of camera. This function simply aligns cameras, view direction to vector between target and camera position. By calculating the angle between camera look vector and the vector we want to align with, then including the up and right vectors its applying transformation.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="bold">a</mi><mo>⋅</mo><mi mathvariant="bold">b</mi><mo>=</mo><msub><mi>a</mi><mn>1</mn></msub><msub><mi>b</mi><mn>1</mn></msub><mo>+</mo><msub><mi>a</mi><mn>2</mn></msub><msub><mi>b</mi><mn>2</mn></msub><mo>+</mo><msub><mi>a</mi><mn>3</mn></msub><msub><mi>b</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">
\mathbf{a} \cdot \mathbf{b} = a_1 b_1 + a_2 b_2 + a_3 b_3 
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em"></span><span class="mord mathbf">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathbf">b</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>
<p>Perhaps inner calculation of <code>lookAt()</code> function might be thema of another article for now lets use it pragmatically. If you want to read about it however, you can check these sources: <a href="https://jsantell.com/3d-projection/">3d_projection_by_Jordan_Santell</a>, <a href="https://docs.unity3d.com/6000.2/Documentation/ScriptReference/Transform.LookAt.html">unity_docs_transform.lookAt()</a>, <a href="https://learnopengl.com/Getting-started/Camera">Camera_Chapter_in_learnopengl</a> But for now lets implement similar but more explicit process. We introduce new parameters to our script.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">public</span><span style="color:#CB7676"> class</span><span style="color:#5DA994"> PseudoIsometricCamera</span><span style="color:#666666"> :</span><span style="color:#5DA994"> MonoBehaviour</span></span>
<span class="line"><span style="color:#666666">{</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">References</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#5DA994"> Camera</span><span style="color:#80A665"> cam</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#5DA994"> Vector3</span><span style="color:#80A665"> camTarget</span><span style="color:#666666">;</span><span style="color:#758575DD">         // a position for our camera to look</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#5DA994"> Vector3</span><span style="color:#80A665"> camPosition</span><span style="color:#666666">;</span><span style="color:#758575DD">       // the position of our camera (we will use it afterwards to snap to target such as player)</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#5DA994"> Vector3</span><span style="color:#80A665"> camDistance</span><span style="color:#666666">;</span><span style="color:#758575DD">       // a vector represents distance and direction from camera to our target</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#5DA994"> Vector3</span><span style="color:#80A665"> baseCamDistance</span><span style="color:#666666">;</span><span style="color:#758575DD">  // that we will use as a constant value</span></span>
<span class="line"><span style="color:#DBD7CAEE">    ...</span></span></code></pre>
<p>We introduced</p>
<p><code>camTarget</code> value to isolate our looking direction from any object so we can move independently from objects.<br/>
<code>camDistance</code> variable, this variable is actually derived variable as it is calculated <code>camTarget</code> - <code>camPosition</code> but for the sake of readability we created it.<br/>
<code>camPosition</code> this is also derived class same value within, <code>cam.transform.posiiton</code> but we create it for the sake of readability and use it as a snapping point afterwards.</p>
<p>Afterwards, we need to assign values to our introduced values. so in <code>Start()</code> function:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Start</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // safeguard to check if everything nicely assigned</span></span>
<span class="line"><span style="color:#BD976A">        camTarget</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Vector3</span><span style="color:#666666">.</span><span style="color:#BD976A">zero</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#666666"> =</span><span style="color:#CB7676"> new</span><span style="color:#5DA994"> Vector3</span><span style="color:#666666">(</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 6</span><span style="color:#666666">,</span><span style="color:#CB7676"> -</span><span style="color:#4C9A91">10</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">cam</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#CB7676"> ||</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#CB7676"> ||</span><span style="color:#BD976A"> camPosition</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            Debug</span><span style="color:#666666">.</span><span style="color:#80A665">LogError</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">CameraRig setup incomplete! Assign all references.</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#4D9375">            return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // we set actual camera position based on our variable</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // calculate the distance vector by using camera target and camera position</span></span>
<span class="line"><span style="color:#BD976A">        camDistance</span><span style="color:#666666">            =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // set forward axis of camera to this vector but with normalizing it (scaling length to 1)</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">forward</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camDistance</span><span style="color:#666666">.</span><span style="color:#BD976A">normalized</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>Now if we save our script and play. We should be able to see that our camera is nicely aligned in a way to focus on our target.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-game_with_cube3.png"/><br/><sub class="caption"><i>In game frame seeing the cube from above</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="13-describing-the-behaviour-of-movement">1.3. Describing the behaviour of movement</h3>
<p>At this stage, it might be good to implement our movement functions. For this lets define first what sort of movement we are interested at. First lets deconstruct, the movement action. We want user to give some inputs, through whatever input device they have (keyboard, mouse, touchpad, console, etc.) then based on this input type we make some calculations and apply them. In terms of architecture, it is usually considered as better idea to describe actions prior to input types rather than input types prior to actions. As it could be abstracted to adapt whatever input device afterwards.</p>
<p>For instance, in our code if we do our stuff when user pressses W on keyboard, we need to change our base code when we want to add support for game console. But if we rather define our movement actions and use it as an interface between our camera and input device, then we can add another adapter without changing our original code.</p>
<p>So we will start with defining our actions, as a simple base, we will define four direction movement: forward, backward, left and right. Unity offering a system for input managegement. We are going to use this.</p>
<p>First lets ensure that if input system is active: go to banner on top of your window. Open:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>window &gt; package manager &gt; input system (search)</span></span></code></pre>
<p>Install it if it is not installed. Then again on the top section, select edit, then project settings, select player, search on top bar <code>active input handling</code> and select <code>input system package (new)</code></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>Edit &gt; project settings &gt; player &gt; active input handing (search) : input system package (new)</span></span></code></pre>
<p>Now we can add input actions object on our assets window :</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>Right click &gt; create &gt; input actions</span></span></code></pre>
<p>I name it <code>InputSystem</code>. Now double click input system and open it. Input system action editor looks like this:</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-input_system.png"/><br/><sub class="caption"><i>Input System, Action Maps Window</i></sub><sub class="image-source"><i></i></sub></p>
<p>You may or may not find some default maps there. We will create new:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="md"><code><span class="line"><span style="color:#4D9375">    click to plus icon next to action maps &gt; name it `CameraActionMap`</span></span></code></pre>
<p>Now on the middle window, create new action and name it <code>Movement</code>, now on the right window named <code>Action Properties</code> change action type to <code>Value</code>, control type: <code>Vector 2</code>. As four direction movement, defined upon two axis movement.</p>
<p>Once once again on middle window, right click on <code>Movement</code> action and upon selections, select <code>Add Up/Down/Left/Right Composite</code> as this is built-in already.</p>
<p>Unity system provided us a pattern for this input. Lets add input for each, Select <code>Up</code> on bindings &gt; path: select <code>W [Keyboard]</code> for instance and apply the same for the rest respectively up/down/left/right to w,s,a,d keys, then save. At the end it should look like this:</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-input_actions_movement.png"/><br/><sub class="caption"><i>Input Actions Movement</i></sub><sub class="image-source"><i></i></sub></p>
<p>Now we defined, movement action and up, down, left, right as sub actions and, which inputs will trigger those actions. However, we did not tell our camera to use this input action map, and what to do when this input is given. Now we are going to define those.</p>
<p>To organize a bit, I will move eveything inside start to new function called <code>SetCameraParameters()</code></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Start</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#80A665">        SetCameraParameters</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> SetCameraParameters</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // safeguard to check if everything nicely assigned</span></span>
<span class="line"><span style="color:#BD976A">        camTarget</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Vector3</span><span style="color:#666666">.</span><span style="color:#BD976A">zero</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#666666"> =</span><span style="color:#CB7676"> new</span><span style="color:#5DA994"> Vector3</span><span style="color:#666666">(</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 6</span><span style="color:#666666">,</span><span style="color:#CB7676"> -</span><span style="color:#4C9A91">10</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">cam</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#CB7676"> ||</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#CB7676"> ||</span><span style="color:#BD976A"> camPosition</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            Debug</span><span style="color:#666666">.</span><span style="color:#80A665">LogError</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">CameraRig setup incomplete! Assign all references.</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#4D9375">            return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span><span style="color:#758575DD"> // we set actual camera position based on our variable</span></span>
<span class="line"><span style="color:#BD976A">        camDistance</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">forward</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camDistance</span><span style="color:#666666">.</span><span style="color:#BD976A">normalized</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>And lets introduce new set of variables for our <code>InputAction</code> object:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#758575DD">// we introduce our script that we are going to use InputSystem package</span></span>
<span class="line"><span style="color:#4D9375">using</span><span style="color:#5DA994"> UnityEngine</span><span style="color:#666666">.</span><span style="color:#5DA994">InputSystem</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#758575DD">    // we define our variables one for action map and other for action</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#5DA994"> InputActionAsset</span><span style="color:#80A665"> inputAction</span><span style="color:#666666">;</span><span style="color:#758575DD"> // -&gt; we need to drag drop our InputSystem object to camera script</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#5DA994"> InputAction</span><span style="color:#80A665"> moveInputAction</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">        void</span><span style="color:#80A665"> Start</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#80A665">        SetCameraParameters</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#758575DD">        // we add the function call in start that we set input actions</span></span>
<span class="line"><span style="color:#80A665">        SetInputActions</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#758575DD">    // we add the function where we define input functions</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#4D9375"> void</span><span style="color:#80A665"> SetInputActions</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#CB7676">        var</span><span style="color:#80A665"> cameraMap</span><span style="color:#666666"> =</span><span style="color:#BD976A"> inputAction</span><span style="color:#666666">.</span><span style="color:#80A665">FindActionMap</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">CameraActionMap</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        moveInputAction</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cameraMap</span><span style="color:#666666">.</span><span style="color:#80A665">FindAction</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Movement</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">Enable</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>At this stage, our camera script is recognized our input map. Please do not forget to drag and drop InputSystem object to your camera script.</p>
<p>Now lets test it if input is working. We are going to use <code>Update()</code> function of our Monobehaviour script, as it is called every frame.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Update</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // if there is no movement action do nothing</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // read the movement vector something like this (1f, 0f)</span></span>
<span class="line"><span style="color:#5DA994">        Vector2</span><span style="color:#80A665"> moveInput</span><span style="color:#666666"> =</span><span style="color:#BD976A"> moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#5DA994">Vector2</span><span style="color:#666666">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        Debug</span><span style="color:#666666">.</span><span style="color:#80A665">Log</span><span style="color:#666666">(</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"></span></code></pre>
<p>What are we doing here? We are running the moveInputAction value on every frame and writing on the console. If we press play, then inspect the console window below we should be able to see (0,0) initial input. Now, if we press our recognized keys such as W, A, S or D we expect these vector values to change!</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-movement_value_console.png"/><br/><sub class="caption"><i>Testing input through console</i></sub><sub class="image-source"><i></i></sub></p>
<p>We ensured that, our input map is recognized by script and in fact working. Now lastly we need to descibe what sort of behaviour we want on these inputs. Now its good time to talk about, what sort of movement we are interested in. For intance, on by up or forward what do we actually mean?</p>
<p>For instance do we want to move camera to go up or in unity terms (+y) axis? No.
Do we want camera to go towards view direction? No.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-movement_def.png"/><br/><sub class="caption"><i>Which type of movement we are interested in</i></sub><sub class="image-source"><i></i></sub></p>
<p>As also indicated in the visual we are interested with planar camera movement. For this, we are using 2d vector coming from our input. However in our 3d world we need to adjust axes accordingly. Please notice that on our simple move function we are not changing our y axis at all.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Update</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // if there is no movement action do nothing</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // read the movement vector something like this (1f, 0f)</span></span>
<span class="line"><span style="color:#5DA994">        Vector2</span><span style="color:#80A665"> moveInput</span><span style="color:#666666"> =</span><span style="color:#BD976A"> moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#5DA994">Vector2</span><span style="color:#666666">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">magnitude</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DA994">        Vector3</span><span style="color:#80A665"> moveDir</span><span style="color:#666666"> =</span><span style="color:#CB7676"> new</span><span style="color:#5DA994"> Vector3</span><span style="color:#666666">(</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">x</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0.0f</span><span style="color:#666666">,</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        camTarget</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveDir</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveDir</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        Debug</span><span style="color:#666666">.</span><span style="color:#80A665">Log</span><span style="color:#666666">(</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#DBD7CAEE">}</span></span></code></pre>
<p>So we update our update function. First, we are adding a safeguard to prevent unnecesary calculations. By checking the size of input vector. Then we are transribing our 2d vector to 3d by passing y axis 0, to ensure planar movement. Then lastly, we updte our camera target and camera position variables.</p>
<p>So we have basic movement. However this movement is a bit slow or might be fast for your taste. In order to control and modify in the future we are introducing new variable in our code, as simple multiplier for movement speed.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Movement Settings</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> baseSpeed</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 5.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">      void</span><span style="color:#80A665"> Update</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">      {</span></span>
<span class="line"><span style="color:#758575DD">          // if there is no movement action do nothing</span></span>
<span class="line"><span style="color:#4D9375">          if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">          // read the movement vector something like this (1f, 0f)</span></span>
<span class="line"><span style="color:#5DA994">          Vector2</span><span style="color:#80A665"> moveInput</span><span style="color:#666666"> =</span><span style="color:#BD976A"> moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#5DA994">Vector2</span><span style="color:#666666">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">          // safeguard</span></span>
<span class="line"><span style="color:#4D9375">          if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">magnitude</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DA994">          Vector3</span><span style="color:#80A665"> moveVector</span><span style="color:#666666"> =</span><span style="color:#CB7676"> new</span><span style="color:#5DA994"> Vector3</span><span style="color:#666666">(</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">x</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0.0f</span><span style="color:#666666">,</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666">)</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> baseSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">          camTarget</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">          camPosition</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">          cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666">      }</span></span></code></pre>
<p>We also changed our movedir to movevector to prevent double calcultion below. Another thing to mention we are not normalizing our moveVector as it is already coming as normalized.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-movement.gif"/><br/><sub class="caption"><i>Planar movement</i></sub><sub class="image-source"><i></i></sub></p>
<p>On the next step we will be adding rotation but before that lets do a bit organization.</p>
<p>Everything inside update is related to move, when we add rotation or room this could easily become a mess. We want to separate discrete step as much as possible. So lets group all of these inside new function called <code>HandleMovement()</code> and lastly we call this new function inside <code>Update()</code></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Update</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#80A665">        HandleMovement</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#80A665">    HandleMovement</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // read the movement vector something like this (1f, 0f)</span></span>
<span class="line"><span style="color:#5DA994">        Vector2</span><span style="color:#80A665"> moveInput</span><span style="color:#666666"> =</span><span style="color:#BD976A"> moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#5DA994">Vector2</span><span style="color:#666666">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">magnitude</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#5DA994">        Vector3</span><span style="color:#80A665"> moveVector</span><span style="color:#666666"> =</span><span style="color:#CB7676"> new</span><span style="color:#5DA994"> Vector3</span><span style="color:#666666">(</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">x</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0.0f</span><span style="color:#666666">,</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666">)</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> baseSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camTarget</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<h2 id="2-impliementing-quantized-step-rotation">2. Impliementing quantized-step rotation</h2>
<p>Next, we can focus on rotation. Like previously, we also need to define an input map for rotation action, but this time, so we open once again our <code>InputSystem</code> and in the middle window we add new Action called <code>Rotate</code> but this time unlike the Movement, we do not need to define Vector2D because we only have a linear, or even boolean value. Rotation could either be positive or negative, clockwise (cw), or counterclockwise (ccw). So we define, so we click + button next to action and select <code>add positive/negative binding</code> This will add under action <code>1D Axis</code> For some reason I also need to remove no binding element above and add keys for it. I usually select <code>Q</code> and <code>E</code> for positive and negative rotation keys, but you are ofcourse free to select your own. So at last it looks something like this:</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-input_rotation.png"/><br/><sub class="caption"><i>Input Map: Rotation</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="21-finding-the-positive-rotation">2.1. Finding the positive rotation</h3>
<p>Maybe it is also good point to talk once again about standards, at rotation, we encounter once again the choose between standards. Which is positive direction according to you clockwise or counterclockwise?</p>
<p class="img40"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-cw_ccw.png"/><br/><sub class="caption"><i>Rotation naming and Unity standard</i></sub><sub class="image-source"><i></i></sub></p>
<p>When we mention about the clocks you might have been thinking intiutively, clockwise (cw) rotation should be positive. However, in mathemtics, general convention uses the counterclockwise (ccw) rotation, as right and up axes considered positive on 2d space, positive rotation on a plane is counterclockwise. Again, there are no direct truth but preferences as standards. Unity also accepts this from the perspective of mathematics. So we will regard, ccw as positive axis. when you are looking front it might be trivial to think of positive rotation (in this context we are considering rotating our xy plane on z+ axis). however, when we start to talk about other axis or even,vectors this line of clear comprehension starts to blur very fast. For instance, what is the positive rotation for y axis? Or what is the positive rotation of Vector (1, 3, 2). Once again our precious hands come to our help to provide real time simulation on our case.</p>
<p>I like to visualize it this way: while your left hand is on lhc formation, open your fingers in your right hand, and bend your fingers except your thumb slightly as if you are about to hold something. Now considering, your thumb is representing the negative of the axis that you want to check, your fingers are pointing the positive rotation axis. On this position if you touch your right hand thumb to the tip of any of axis represented by in your left hand end to end, and rotate your right hand around your pinned thumb, you will see the positive direction of given axis. Returning to our task, as it may seem trivial for the moment but it will be necessary for more complex calculations in the future: keys Q and E are corresponding to left and right, respecitively ccw and cw. So Q is positive while E represent negative in our case.</p>
<p class="img40"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/202511250-lhc_rotation.gif"/><br/><sub class="caption"><i>Hand movement simulation on rotation</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="21-implementing-pattern">2.1. Implementing pattern</h3>
<p>Next, as you may have guessed we will add our <code>rotateInputAction</code> variable <code>HandleRotation()</code> and some intermediatery variables which we will define soon. But first, lets talk about what sort of rotation we want, as we previously discussed for, well there might be different design choices at this point but I will go with instead of continiously incrasing, a step rotation on predefined angle such as 30 degree. Okay, lets dive little bit more,lets ask some questions, when we rotate 30 degree:</p>
<ol>
<li>Where is the pivot (origin) of rotation? <code>camTarget</code></li>
<li>Does the distance or angle between our camera and target is changing? No.</li>
<li>Does the camera target position is changing? No.</li>
<li>Does the camera point is changing? Yes.</li>
<li>Does the plane of movement is changing? No.</li>
</ol>
<p>Upon those questions, maybe we can clear some fog to visualize better this rotation in or minds. We will rotate around cameraTarget, neither distance nor angle between camera and target will change. But the position of camera.</p>
<p>So we will rotate our cameraDirection vector 30 degree from starting point. and at the end, we will have our new camera position. Then we are going to use this position to look at camTarget. Lets implement this idea.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Rotation Settings</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> rotateStepDeg</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 30.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> currentUpRotationInDeg</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 0.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> targetUpRotationInDeg</span><span style="color:#666666">  =</span><span style="color:#4C9A91"> 0.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#5DA994"> InputAction</span><span style="color:#80A665"> rotateInputAction</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Update</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#80A665">        HandleRotate</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#80A665">        HandleMovement</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#4D9375"> void</span><span style="color:#80A665"> SetInputActions</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#CB7676">        var</span><span style="color:#80A665"> cameraMap</span><span style="color:#666666"> =</span><span style="color:#BD976A"> inputAction</span><span style="color:#666666">.</span><span style="color:#80A665">FindActionMap</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">InputMapCam</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        moveInputAction</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cameraMap</span><span style="color:#666666">.</span><span style="color:#80A665">FindAction</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Movement</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">Enable</span><span style="color:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        rotateInputAction</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cameraMap</span><span style="color:#666666">.</span><span style="color:#80A665">FindAction</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Rotate</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">Enable</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleRotate</span><span style="color:#666666">()</span><span style="color:#666666"> {}</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>On the preparation of our base, we define our rotation step degree, current and target rotation (it is also possible to keep it under one variable but we will use it afterwards). And our rotate input action, we new function we we will define what will happen on input is given, and lastly we introduce our script to recognize our input actions.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-testing_rotation_input.gif"/><br/><sub class="caption"><i>Testing rotation inputs</i></sub><sub class="image-source"><i></i></sub></p>
<p>Lets continue with the logic.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleRotate</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // this step is to ensure our rotatation runs once per key press</span></span>
<span class="line"><span style="color:#758575DD">        // and not while key hold</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">WasPressedThisFrame</span><span style="color:#666666">())</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            targetUpRotationInDeg</span><span style="color:#CB7676">  +=</span><span style="color:#BD976A"> rotationInDeg</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">            // we read the sign of 1D axis by action</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> rotateAxisSign</span><span style="color:#666666"> =</span><span style="color:#CB7676"> -</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#4D9375">float</span><span style="color:#666666">&gt;();</span></span>
<span class="line"><span style="color:#758575DD">            // we multiply sign and predefined rotation step degree</span></span>
<span class="line"><span style="color:#758575DD">            // to have direction and magnitude of our rotation</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> rotationInDeg</span><span style="color:#666666"> =</span><span style="color:#BD976A"> rotateStepDeg</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> rotateAxisSign</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">            // finally we set it to achieve our targeted rotation degree</span></span>
<span class="line"><span style="color:#BD976A">            targetUpRotationInDeg</span><span style="color:#666666">  =</span><span style="color:#BD976A"> rotationInDeg</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">            Debug</span><span style="color:#666666">.</span><span style="color:#80A665">Log</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Target rotation: </span><span style="color:#C98A7D77">&quot;</span><span style="color:#CB7676"> +</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666"> );</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>When we press play and inspect the console while pressing games on game window, we should be able to see our registered target rotations. Now lets extend this to be able to see actual rotation.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleRotate</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#CB7676">        ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">WasPressedThisFrame</span><span style="color:#666666">())</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#CB7676">        ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#BD976A">            Debug</span><span style="color:#666666">.</span><span style="color:#80A665">Log</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Target rotation: </span><span style="color:#C98A7D77">&quot;</span><span style="color:#CB7676"> +</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666"> );</span></span>
<span class="line"><span style="color:#758575DD">            // quaternion is fancy 4d number system to avoid 3d math rotation problem called gimbal lock</span></span>
<span class="line"><span style="color:#758575DD">            // try to ignore it this syntax but accept it as we want to rotate on y (up) axis with given degree</span></span>
<span class="line"><span style="color:#5DA994">            Quaternion</span><span style="color:#80A665"> rotation</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Quaternion</span><span style="color:#666666">.</span><span style="color:#80A665">Euler</span><span style="color:#666666">(</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666"> ,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#758575DD">            // we calculate new vector for our camera Forward</span></span>
<span class="line"><span style="color:#5DA994">            Vector3</span><span style="color:#80A665"> rotatedOffset</span><span style="color:#666666"> =</span><span style="color:#BD976A"> rotation</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> camDistance</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">            // by using our new camera forward we calculate our new camera position</span></span>
<span class="line"><span style="color:#BD976A">            camPosition</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> rotatedOffset</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">            // finally we look at our traget once again</span></span>
<span class="line"><span style="color:#BD976A">            camDistance</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">forward</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camDistance</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-quantized_step_ritation.gif"/><br/><sub class="caption"><i>Quantized rotation input</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="23-fixing-the-movement-logic">2.3. Fixing the movement logic</h3>
<p>Well, we could have been done the correct from the beggining. However, I wanted this tutorial to simulate, a little bit more, real development process. If you used movement after rotation. You will probably encounter something unexpected on movement. While, it was working alone on initial movement, when we combine with rotate, the movement is not following the direction we are looking at. Often, while developing something we increase complexity gradually, and sometimes simple cases does not correspond to complex situations. Maybe you already named the problem but, the problem is we are always changing our positions in world space during movement. This is resulting unintuitive movement behaviour. How to fix this?</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251122-rotation_movement_adjustment.gif"/><br/><sub class="caption"><i>Problemamtic movement after rotation</i></sub><sub class="image-source"><i></i></sub></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> void</span><span style="color:#80A665"> HandleMovement</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // read the movement vector something like this (1f, 0f)</span></span>
<span class="line"><span style="color:#5DA994">        Vector2</span><span style="color:#80A665"> moveInput</span><span style="color:#666666"> =</span><span style="color:#BD976A"> moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#5DA994">Vector2</span><span style="color:#666666">&gt;();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">magnitude</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // move relative to camera rotation on XZ plane</span></span>
<span class="line"><span style="color:#5DA994">        Vector3</span><span style="color:#80A665"> forward</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">forward</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#5DA994">        Vector3</span><span style="color:#80A665"> right</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">right</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // ignore vertical component (important for isometric)</span></span>
<span class="line"><span style="color:#BD976A">        forward</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        right</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        forward</span><span style="color:#666666">.</span><span style="color:#80A665">Normalize</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#BD976A">        right</span><span style="color:#666666">.</span><span style="color:#80A665">Normalize</span><span style="color:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // we set adjust world space to camera orientation</span></span>
<span class="line"><span style="color:#5DA994">        Vector3</span><span style="color:#80A665"> moveVector</span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A">right</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">x</span><span style="color:#CB7676"> +</span><span style="color:#BD976A"> forward</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#CB7676">                             *</span><span style="color:#BD976A"> baseSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        camTarget</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> moveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>So we changed our <code>handleMovement()</code> function, instead of setting vector values to x, and z, on world space. We use it these values to scale camera orientation values.</p>
<p>The final result should something like this:</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251122-rotation_movement_adjusted.gif"/><br/><sub class="caption"><i>Problemamtic movement after rotation</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="24-rotation-animation-through-linear-interpolation">2.4. Rotation animation through linear interpolation</h3>
<p>Now we have or rotation, but it looks kind a boring. Because there is no grace in the transition, as it jumps directly from one view to another (although it might be preferable depending on the art style sometimes). Would it not be nice, if we hade some kind of smooth transition between those two views? So lets do that.</p>
<p>Let me introduce you linear interpolation functions. I will approach this fancy but also scary looking concept from artists perpesctive rather than mathematician at this point for the sake of tutorial. In pragmatic terms, linear interpolation allows us to create smoooth transitions between two states. or numbers, it is often used in animation. So idea is instead of hard switching from one view to another, we define a time frame, initial and target value to switch within this time frame. There are many forms of interpolation once again depending on the artistic choices and charactistics. Sometimes it improves the movement and realism drastically. Sometimes, it wents beyond the tagret value and returns to characterize momentum and inertia. If you want to deep dive into topic, and see what could be achievable through this process I would recommend this <a href>video</a>. But we will keep things simple and precise here. So one of the simple and widely used linear transformation function (shortened by lerp) is this.</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>lerp</mtext><mo stretchy="false">(</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy="false">(</mo><mi>b</mi><mo>−</mo><mi>a</mi><mo stretchy="false">)</mo><mtext> </mtext><mi>t</mi></mrow><annotation encoding="application/x-tex">\text{lerp}(a, b, t) = a + (b - a)\, t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord text"><span class="mord">lerp</span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span></span></span></span></span>
<p>While a and b representing, init and end value, t is the time frame this value is about too occurs. What this function is simply linearly mapping in between values between start and end points on defined time frame.</p>
<astro-island uid="ZXGRta" component-url="/blog/_astro/GraphCompare.s_P4SCE_.js" component-export="default" renderer-url="/blog/_astro/client.svelte.CGM4NXJb.js" props="{}" ssr client="load" opts="{&quot;name&quot;:&quot;GraphCompare&quot;,&quot;value&quot;:true}" await-children><!--[--><div class="vis-container" style="display:flex; flex-direction:column; align-items:center;"><div style="display:flex; gap:40px;"><div style="width: 400px; display:flex; flex-direction:column; align-items:center;"><svg width="400" height="200"><line x1="40" y1="160" x2="360" y2="160" stroke="currentColor" stroke-opacity="0.5"></line><line x1="40" y1="40" x2="40" y2="160" stroke="currentColor" stroke-opacity="0.5"></line><!--[--><line x1="40" y1="160" x2="40" y2="165" stroke="currentColor"></line><!--[!--><!--]--><line x1="35" y1="160" x2="40" y2="160" stroke="currentColor"></line><text x="30" y="164" font-size="12" text-anchor="end" stroke-opacity="0.5">0</text><line x1="360" y1="160" x2="360" y2="165" stroke="currentColor"></line><!--[--><text x="360" y="175" font-size="12" text-anchor="middle" stroke-opacity="0.5">1</text><!--]--><line x1="35" y1="40" x2="40" y2="40" stroke="currentColor"></line><text x="30" y="44" font-size="12" text-anchor="end" stroke-opacity="0.5">1</text><!--]--><!--[--><!--[!--><!--]--><!--[--><line x1="40" y1="136" x2="43.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="43.2" y1="136" x2="46.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="46.4" y1="136" x2="49.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="49.6" y1="136" x2="52.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="52.8" y1="136" x2="56" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="56" y1="136" x2="59.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="59.2" y1="136" x2="62.400000000000006" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="62.400000000000006" y1="136" x2="65.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="65.6" y1="136" x2="68.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="68.8" y1="136" x2="72" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="72" y1="136" x2="75.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="75.2" y1="136" x2="78.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="78.4" y1="136" x2="81.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="81.6" y1="136" x2="84.80000000000001" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="84.80000000000001" y1="136" x2="88" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="88" y1="136" x2="91.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="91.2" y1="136" x2="94.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="94.4" y1="136" x2="97.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="97.6" y1="136" x2="100.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="100.8" y1="136" x2="104" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="104" y1="136" x2="107.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="107.2" y1="136" x2="110.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="110.4" y1="136" x2="113.60000000000001" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="113.60000000000001" y1="136" x2="116.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="116.8" y1="136" x2="120" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="120" y1="136" x2="123.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="123.2" y1="136" x2="126.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="126.4" y1="136" x2="129.60000000000002" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="129.60000000000002" y1="136" x2="132.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="132.8" y1="136" x2="136" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="136" y1="136" x2="139.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="139.2" y1="136" x2="142.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="142.4" y1="136" x2="145.60000000000002" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="145.60000000000002" y1="136" x2="148.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="148.8" y1="136" x2="152" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="152" y1="136" x2="155.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="155.2" y1="136" x2="158.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="158.4" y1="136" x2="161.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="161.6" y1="136" x2="164.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="164.8" y1="136" x2="168" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="168" y1="136" x2="171.2" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="171.2" y1="136" x2="174.4" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="174.4" y1="136" x2="177.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="177.6" y1="136" x2="180.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="180.8" y1="136" x2="184" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="184" y1="136" x2="187.20000000000002" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="187.20000000000002" y1="136" x2="190.39999999999998" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="190.39999999999998" y1="136" x2="193.6" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="193.6" y1="136" x2="196.8" y2="136" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="196.8" y1="136" x2="200" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="200" y1="64" x2="203.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="203.2" y1="64" x2="206.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="206.4" y1="64" x2="209.60000000000002" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="209.60000000000002" y1="64" x2="212.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="212.8" y1="64" x2="216" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="216" y1="64" x2="219.20000000000002" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="219.20000000000002" y1="64" x2="222.39999999999998" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="222.39999999999998" y1="64" x2="225.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="225.6" y1="64" x2="228.79999999999998" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="228.79999999999998" y1="64" x2="232" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="232" y1="64" x2="235.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="235.2" y1="64" x2="238.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="238.4" y1="64" x2="241.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="241.6" y1="64" x2="244.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="244.8" y1="64" x2="248" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="248" y1="64" x2="251.20000000000002" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="251.20000000000002" y1="64" x2="254.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="254.4" y1="64" x2="257.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="257.6" y1="64" x2="260.79999999999995" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="260.79999999999995" y1="64" x2="264" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="264" y1="64" x2="267.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="267.2" y1="64" x2="270.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="270.4" y1="64" x2="273.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="273.6" y1="64" x2="276.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="276.8" y1="64" x2="280" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="280" y1="64" x2="283.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="283.2" y1="64" x2="286.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="286.4" y1="64" x2="289.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="289.6" y1="64" x2="292.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="292.8" y1="64" x2="296" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="296" y1="64" x2="299.20000000000005" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="299.20000000000005" y1="64" x2="302.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="302.4" y1="64" x2="305.59999999999997" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="305.59999999999997" y1="64" x2="308.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="308.8" y1="64" x2="312" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="312" y1="64" x2="315.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="315.2" y1="64" x2="318.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="318.4" y1="64" x2="321.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="321.6" y1="64" x2="324.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="324.8" y1="64" x2="328" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="328" y1="64" x2="331.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="331.2" y1="64" x2="334.40000000000003" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="334.40000000000003" y1="64" x2="337.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="337.6" y1="64" x2="340.79999999999995" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="340.79999999999995" y1="64" x2="344" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="344" y1="64" x2="347.2" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="347.2" y1="64" x2="350.4" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="350.4" y1="64" x2="353.6" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="353.6" y1="64" x2="356.8" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="356.8" y1="64" x2="360" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--]--><circle cx="200" cy="64" r="6" fill="green" stroke="currentColor" stroke-width="1"></circle></svg> <sub class="caption" style="margin:0; font-size: 1.1em; font-weight: 500;"><b>Clamped Step Function [0.2, 0.8]</b></sub></div> <div style="width: 400px; display:flex; flex-direction:column; align-items:center;"><svg width="400" height="200"><line x1="40" y1="160" x2="360" y2="160" stroke="currentColor" stroke-opacity="0.5"></line><line x1="40" y1="40" x2="40" y2="160" stroke="currentColor" stroke-opacity="0.5"></line><!--[--><line x1="40" y1="160" x2="40" y2="165" stroke="currentColor"></line><!--[!--><!--]--><line x1="35" y1="160" x2="40" y2="160" stroke="currentColor"></line><text x="30" y="164" font-size="12" text-anchor="end" stroke-opacity="0.5">0</text><line x1="360" y1="160" x2="360" y2="165" stroke="currentColor"></line><!--[--><text x="360" y="175" font-size="12" text-anchor="middle" stroke-opacity="0.5">1</text><!--]--><line x1="35" y1="40" x2="40" y2="40" stroke="currentColor"></line><text x="30" y="44" font-size="12" text-anchor="end" stroke-opacity="0.5">1</text><!--]--><!--[--><!--[!--><!--]--><!--[--><line x1="40" y1="136" x2="43.2" y2="135.28" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="43.2" y1="135.28" x2="46.4" y2="134.56" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="46.4" y1="134.56" x2="49.6" y2="133.84" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="49.6" y1="133.84" x2="52.8" y2="133.12" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="52.8" y1="133.12" x2="56" y2="132.4" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="56" y1="132.4" x2="59.2" y2="131.68" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="59.2" y1="131.68" x2="62.400000000000006" y2="130.96" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="62.400000000000006" y1="130.96" x2="65.6" y2="130.24" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="65.6" y1="130.24" x2="68.8" y2="129.52" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="68.8" y1="129.52" x2="72" y2="128.8" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="72" y1="128.8" x2="75.2" y2="128.07999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="75.2" y1="128.07999999999998" x2="78.4" y2="127.36" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="78.4" y1="127.36" x2="81.6" y2="126.64" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="81.6" y1="126.64" x2="84.80000000000001" y2="125.91999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="84.80000000000001" y1="125.91999999999999" x2="88" y2="125.19999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="88" y1="125.19999999999999" x2="91.2" y2="124.47999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="91.2" y1="124.47999999999999" x2="94.4" y2="123.75999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="94.4" y1="123.75999999999999" x2="97.6" y2="123.03999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="97.6" y1="123.03999999999999" x2="100.8" y2="122.32" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="100.8" y1="122.32" x2="104" y2="121.6" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="104" y1="121.6" x2="107.2" y2="120.88" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="107.2" y1="120.88" x2="110.4" y2="120.16" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="110.4" y1="120.16" x2="113.60000000000001" y2="119.44" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="113.60000000000001" y1="119.44" x2="116.8" y2="118.72" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="116.8" y1="118.72" x2="120" y2="118" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="120" y1="118" x2="123.2" y2="117.28" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="123.2" y1="117.28" x2="126.4" y2="116.56" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="126.4" y1="116.56" x2="129.60000000000002" y2="115.84" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="129.60000000000002" y1="115.84" x2="132.8" y2="115.12" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="132.8" y1="115.12" x2="136" y2="114.4" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="136" y1="114.4" x2="139.2" y2="113.68" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="139.2" y1="113.68" x2="142.4" y2="112.96000000000001" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="142.4" y1="112.96000000000001" x2="145.60000000000002" y2="112.24" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="145.60000000000002" y1="112.24" x2="148.8" y2="111.52" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="148.8" y1="111.52" x2="152" y2="110.8" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="152" y1="110.8" x2="155.2" y2="110.08" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="155.2" y1="110.08" x2="158.4" y2="109.35999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="158.4" y1="109.35999999999999" x2="161.6" y2="108.63999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="161.6" y1="108.63999999999999" x2="164.8" y2="107.91999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="164.8" y1="107.91999999999999" x2="168" y2="107.19999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="168" y1="107.19999999999999" x2="171.2" y2="106.47999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="171.2" y1="106.47999999999999" x2="174.4" y2="105.75999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="174.4" y1="105.75999999999999" x2="177.6" y2="105.03999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="177.6" y1="105.03999999999999" x2="180.8" y2="104.32" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="180.8" y1="104.32" x2="184" y2="103.6" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="184" y1="103.6" x2="187.20000000000002" y2="102.88" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="187.20000000000002" y1="102.88" x2="190.39999999999998" y2="102.16" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="190.39999999999998" y1="102.16" x2="193.6" y2="101.44" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="193.6" y1="101.44" x2="196.8" y2="100.72" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="196.8" y1="100.72" x2="200" y2="100" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="200" y1="100" x2="203.2" y2="99.28" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="203.2" y1="99.28" x2="206.4" y2="98.56" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="206.4" y1="98.56" x2="209.60000000000002" y2="97.84" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="209.60000000000002" y1="97.84" x2="212.8" y2="97.12" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="212.8" y1="97.12" x2="216" y2="96.4" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="216" y1="96.4" x2="219.20000000000002" y2="95.67999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="219.20000000000002" y1="95.67999999999999" x2="222.39999999999998" y2="94.96" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="222.39999999999998" y1="94.96" x2="225.6" y2="94.24" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="225.6" y1="94.24" x2="228.79999999999998" y2="93.52" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="228.79999999999998" y1="93.52" x2="232" y2="92.8" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="232" y1="92.8" x2="235.2" y2="92.08" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="235.2" y1="92.08" x2="238.4" y2="91.35999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="238.4" y1="91.35999999999999" x2="241.6" y2="90.63999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="241.6" y1="90.63999999999999" x2="244.8" y2="89.91999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="244.8" y1="89.91999999999999" x2="248" y2="89.19999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="248" y1="89.19999999999999" x2="251.20000000000002" y2="88.47999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="251.20000000000002" y1="88.47999999999999" x2="254.4" y2="87.75999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="254.4" y1="87.75999999999999" x2="257.6" y2="87.03999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="257.6" y1="87.03999999999999" x2="260.79999999999995" y2="86.32" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="260.79999999999995" y1="86.32" x2="264" y2="85.6" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="264" y1="85.6" x2="267.2" y2="84.87999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="267.2" y1="84.87999999999998" x2="270.4" y2="84.15999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="270.4" y1="84.15999999999998" x2="273.6" y2="83.43999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="273.6" y1="83.43999999999998" x2="276.8" y2="82.71999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="276.8" y1="82.71999999999998" x2="280" y2="81.99999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="280" y1="81.99999999999999" x2="283.2" y2="81.27999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="283.2" y1="81.27999999999999" x2="286.4" y2="80.55999999999999" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="286.4" y1="80.55999999999999" x2="289.6" y2="79.83999999999997" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="289.6" y1="79.83999999999997" x2="292.8" y2="79.11999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="292.8" y1="79.11999999999998" x2="296" y2="78.39999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="296" y1="78.39999999999998" x2="299.20000000000005" y2="77.67999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="299.20000000000005" y1="77.67999999999998" x2="302.4" y2="76.96" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="302.4" y1="76.96" x2="305.59999999999997" y2="76.24" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="305.59999999999997" y1="76.24" x2="308.8" y2="75.52000000000001" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="308.8" y1="75.52000000000001" x2="312" y2="74.80000000000001" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="312" y1="74.80000000000001" x2="315.2" y2="74.08" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="315.2" y1="74.08" x2="318.4" y2="73.36" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="318.4" y1="73.36" x2="321.6" y2="72.63999999999997" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="321.6" y1="72.63999999999997" x2="324.8" y2="71.91999999999997" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="324.8" y1="71.91999999999997" x2="328" y2="71.19999999999997" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="328" y1="71.19999999999997" x2="331.2" y2="70.47999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="331.2" y1="70.47999999999998" x2="334.40000000000003" y2="69.75999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="334.40000000000003" y1="69.75999999999998" x2="337.6" y2="69.03999999999998" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="337.6" y1="69.03999999999998" x2="340.79999999999995" y2="68.32" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="340.79999999999995" y1="68.32" x2="344" y2="67.6" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="344" y1="67.6" x2="347.2" y2="66.88" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="347.2" y1="66.88" x2="350.4" y2="66.16" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="350.4" y1="66.16" x2="353.6" y2="65.44" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="353.6" y1="65.44" x2="356.8" y2="64.72" stroke="currentColor" stroke-width="2"></line><!--]--><!--[--><line x1="356.8" y1="64.72" x2="360" y2="64" stroke="currentColor" stroke-width="2"></line><!--]--><!--]--><circle cx="200" cy="100" r="6" fill="green" stroke="currentColor" stroke-width="1"></circle></svg> <sub class="caption" style="margin:0; font-size: 1.1em; font-weight: 500;"><b>Clamped Linear Interpolation [0.2, 0.8]</b></sub></div></div> <div style="display:flex; gap:40px; margin-top:2rem; width:100%; max-width: 840px;"><div style="width: 400px; display:flex; flex-direction:column; align-items:center; text-align:center;"><div id="step-equation" style="min-height: 80px;"></div></div> <div style="width: 400px; display:flex; flex-direction:column; align-items:center; text-align:center;"><div id="lerp-equation" style="min-height: 80px;"></div></div></div></div> <div style="margin-top:2rem; text-align: center;"><label style="font-size: 1.1em; font-weight: bold;"><input type="range" min="0" max="1" step="0.01" value="0.5" class="svelte-359x9h"/> 0.50</label></div><!--]--><!--astro:end--></astro-island>
<p>So by using build-in lerp function we will extend our rotation movement to add some smooth transition. In order to do this, we need to have two variables to describe start and end values. Which we will define as <code>currentUpRotationInDeg</code> and <code>targetUpRotationInDeg </code>, and <code>rotationLerpSpeed</code> parameter time frame and transition speed.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> rotationLerpSpeed</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 10.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleRotation</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // this step is to ensure our rotatation runs once per key press</span></span>
<span class="line"><span style="color:#758575DD">        // and not while key hold</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">WasPressedThisFrame</span><span style="color:#666666">())</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#758575DD">            // we read the sign of 1D axis by action</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> rotateAxisSign</span><span style="color:#666666"> =</span><span style="color:#CB7676"> -</span><span style="color:#BD976A">rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#4D9375">float</span><span style="color:#666666">&gt;();</span></span>
<span class="line"><span style="color:#758575DD">            // we multiply sign and predefined rotation step degree</span></span>
<span class="line"><span style="color:#758575DD">            // to have direction and magnitude of our rotation</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> rotationInDeg</span><span style="color:#666666"> =</span><span style="color:#BD976A"> rotateStepDeg</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> rotateAxisSign</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">            // finally we set it to achieve our targeted rotation degree</span></span>
<span class="line"><span style="color:#758575DD">            // !! We change to add up target rotation instead of direct assign</span></span>
<span class="line"><span style="color:#BD976A">            targetUpRotationInDeg</span><span style="color:#CB7676">  +=</span><span style="color:#BD976A"> rotationInDeg</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // we introduce lerp based on upper definition</span></span>
<span class="line"><span style="color:#BD976A">        currentUpRotationInDeg</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">LerpAngle</span><span style="color:#666666">(</span><span style="color:#BD976A">currentUpRotationInDeg</span><span style="color:#666666">,</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666"> ,</span><span style="color:#BD976A"> rotationLerpSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">currentUpRotationInDeg</span><span style="color:#CB7676"> ==</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666"> )</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#5DA994">        Quaternion</span><span style="color:#80A665"> rotation</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Quaternion</span><span style="color:#666666">.</span><span style="color:#80A665">Euler</span><span style="color:#666666">(</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#BD976A"> currentUpRotationInDeg</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#758575DD">        // we calculate new vector for our camera Forward</span></span>
<span class="line"><span style="color:#5DA994">        Vector3</span><span style="color:#80A665"> rotatedOffset</span><span style="color:#666666"> =</span><span style="color:#BD976A"> rotation</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> camDistance</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        Debug</span><span style="color:#666666">.</span><span style="color:#80A665">Log</span><span style="color:#666666">(</span><span style="color:#BD976A">camDistance</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#758575DD">        // by using our new camera forward we calculate our new camera position</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> rotatedOffset</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#80A665">LookAt</span><span style="color:#666666">(</span><span style="color:#BD976A">camTarget</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>With this final form of our <code>HandleRotation()</code> function we should be ready to test our rotation. Please notice that in this case, our camDistance is staying constant as we calculate the new position by only one changing parameter which is angle. Another thing is we are looking build in lookAt() function to point.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251120-lerp_rotation.gif"/><br/><sub class="caption"><i>Lerp applied quantized step rotation</i></sub><sub class="image-source"><i></i></sub></p>
<p>I believe we can conclude the rotation at this point, by summarizing conceptualization of rotation, defining the axis and type of movement, implementation of rotation and lerp functions. If you want to extend your work with little bit personalization and better grasp over concept. You can check out some other lerp functions and implements some characteristics over your step rotation, or simply remove step change to continious rotation. I would highly recommend using <a href="https://graphtoy.com/">graphtoy</a> by awesome  Inigo Quilez If you want to write or test your own lerp functions.</p>
<h3 id="25-combining-movements-with-new-camera-update-function">2.5. Combining movements with new camera update function</h3>
<p>As a conclution of our subchapter, its good idea to do some code reviewing. Notice that, we are updating camera position on both, rotation and movement, so we have some repetitive work that we can avoid, it is especially not optimal for a function that is called every frame. Considering that we might change the same values on the zoom, that might result in some inefficiency or even some bugs. So in such cases, one of the options are introducing a new function that is holding the common calculation by these functions. So we introduce, <code>UpdateCamera()</code> function to avoid repetitive code. But there are some tricky points. We want to move and update camera position in UpdateCamera() function. However, the update values are private to HandleMovement() such as movement vector. So lets make them class variables and  just update these variables in <code>HandleMovement()</code>. But before collecting common features in <code>UpdateCamera()</code> we need to expose some local variables in functions so we can use them in another class function.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Movement Settings</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#758575DD">    // #1 we introduce our moveVector as class property</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#5DA994"> Vector3</span><span style="color:#80A665"> planarMoveVector</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Rotation Settings</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#758575DD">    // #2 we expose previously rotation quaternion as class property</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#5DA994"> Quaternion</span><span style="color:#80A665"> currentRotationQuaternion</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">. </span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleMovement</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // #3 we remove moveVector and update planarMoveVector insdie handle movement.</span></span>
<span class="line"><span style="color:#758575DD">        // we set adjust world space to camera orientation</span></span>
<span class="line"><span style="color:#758575DD">        //Vector3 moveVector = (right * moveInput.x + forward * moveInput.y)</span></span>
<span class="line"><span style="color:#758575DD">                             //* baseSpeed * Time.deltaTime;</span></span>
<span class="line"><span style="color:#BD976A">        planarMoveVector</span><span style="color:#666666"> =</span><span style="color:#666666"> (</span><span style="color:#BD976A">right</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">x</span><span style="color:#CB7676"> +</span><span style="color:#BD976A"> forward</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> moveInput</span><span style="color:#666666">.</span><span style="color:#BD976A">y</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#CB7676">                     *</span><span style="color:#BD976A"> baseSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // #4 delete the rest of the function as this part will be in UpdateCamera()</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleRotation</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#CB7676">        ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Abs</span><span style="color:#666666">(</span><span style="color:#BD976A">currentUpRotationInDeg</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666">)</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.05f</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            currentUpRotationInDeg</span><span style="color:#666666"> =</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">            return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#758575DD">        // #5 delete the rest of the function as this part will be in UpdateCamera()</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>Now we can create the actual <code>UpdateCamera()</code>. As pretty trivial task, as a step for optimization instead of calculating on every frame, we calculate only if there is given input: We check if there is rotation, we check if there is movement, both of these transformations apply on camera position so finally we check out camera position is different than our variable <code>cameraPosition</code> which indicates that a transform exists.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> void</span><span style="color:#80A665"> UpdateCamera</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // change camera variables if there is rotation</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">currentUpRotationInDeg</span><span style="color:#CB7676"> !=</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            currentRotationQuaternion</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Quaternion</span><span style="color:#666666">.</span><span style="color:#80A665">Euler</span><span style="color:#666666">(</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#BD976A"> currentUpRotationInDeg</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#5DA994">            Vector3</span><span style="color:#80A665"> rotatedOffset</span><span style="color:#666666"> =</span><span style="color:#BD976A"> currentRotationQuaternion</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> baseCamDistance</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            camPosition</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> rotatedOffset</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            camDistance</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // change camera variable if there is movement</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">planarMoveVector</span><span style="color:#666666">.</span><span style="color:#BD976A">magnitude</span><span style="color:#666666"> &gt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            camTarget</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> planarMoveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            camPosition</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> planarMoveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            planarMoveVector</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Vector3</span><span style="color:#666666">.</span><span style="color:#BD976A">zero</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // apply changes if there is change in camera position</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#CB7676"> !=</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            camDistance</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#80A665">LookAt</span><span style="color:#666666">(</span><span style="color:#BD976A">camTarget</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>I believe we are good to go with our last and final transform function.</p>
<h2 id="3-implementing-quantized-step-zoom">3. Implementing quantized-step zoom</h2>
<p>As a final step of transform functions, we will implement zooming option. In this section, we will neither learn or implement something new, but rather practice and repeat what we have already did so far. So at this point, I highly recommend try to implement zoom function by yourself, instead of following tutorial, to practice what you have learned so far. You can use this section as a tool of comparison or test what you have learned so far.</p>
<p>A rough gide for self implementation to follow:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>    1. Try describe precisely what sort of transformation you are going to apply on zoom?</span></span>
<span class="line"><span>    2. Identify your variables that are going to be used by your function.</span></span>
<span class="line"><span>    3. Create input map and behaviour.</span></span>
<span class="line"><span>    4. Implement your function.</span></span></code></pre>
<h3 id="31-creating-template-for-zoom">3.1. Creating template for zoom</h3>
<p>We will start with creating an action definition for our zoom. We open our <code>InputSystem</code> &gt; create new Action called <code>Zoom</code> zoom is once again a one dimensional action as we can only zoom in or zoom out. So selected <code>Add positive/negative binding</code> and set my keys as <code>R</code> and <code>F</code>. There is no need to spend effort on which way is positive and negative like previous sections as in this case it is pretty clear. After saving the <code>InputSystem</code> we need to define our variables. So we introduce new action to our script as well enabling it.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251122-zoom_input.png"/><br/><sub class="caption"><i>Creating zoom input actions</i></sub><sub class="image-source"><i></i></sub></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#5DA994"> InputAction</span><span style="color:#80A665"> zoomInputAction</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#CB7676">    public</span><span style="color:#4D9375"> void</span><span style="color:#80A665"> SetInputActions</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#CB7676">        var</span><span style="color:#80A665"> cameraMap</span><span style="color:#666666"> =</span><span style="color:#BD976A"> inputAction</span><span style="color:#666666">.</span><span style="color:#80A665">FindActionMap</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">CameraActionMap</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        moveInputAction</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cameraMap</span><span style="color:#666666">.</span><span style="color:#80A665">FindAction</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Movement</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        moveInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">Enable</span><span style="color:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        rotateInputAction</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cameraMap</span><span style="color:#666666">.</span><span style="color:#80A665">FindAction</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Rotate</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        rotateInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">Enable</span><span style="color:#666666">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD976A">        zoomInputAction</span><span style="color:#666666"> =</span><span style="color:#BD976A"> cameraMap</span><span style="color:#666666">.</span><span style="color:#80A665">FindAction</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Zoom</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">,</span><span style="color:#4D9375"> true</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">        zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">Enable</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>Now we can think about which variables we are interested in. Assuming that we are not interested in microscobic and telescobic scales, we probably define limits for upper and lower limits for zoom distance. For zoom lerp, we need current and target zoom levels, as well as speed. So we define our zoom related variables as:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#666666">    [</span><span style="color:#5DA994">Header</span><span style="color:#666666">(</span><span style="color:#C98A7D77">&quot;</span><span style="color:#C98A7D">Zoom Settings</span><span style="color:#C98A7D77">&quot;</span><span style="color:#666666">)]</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> minZoomMultiplier</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> .4f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> maxZoomMultiplier</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 2.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> zoomStep</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 0.2f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> currentZoomScale</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 1.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> targetZoomScale</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 1.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> float</span><span style="color:#80A665"> zoomLerpSpeed</span><span style="color:#666666"> =</span><span style="color:#4C9A91"> 10.0f</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>And finally we are going to introduce <code>HandleZoom()</code> function where the zooming input is actaully calculated and implemented. Maybe one important factor in here in which order we need to run our handling functions? For testing purposes, it does not matter. Afterwards we can check the common parameters that are changed by these functions, and which parameters affecting which function, then we can sort it out. So we set it like this:</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> Update</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#80A665">        HandleZoom</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#80A665">        HandleRotation</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#80A665">        HandleMovement</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#80A665">        UpdateCamera</span><span style="color:#666666">();</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleZoom</span><span style="color:#666666">()</span><span style="color:#666666"> {</span><span style="color:#666666"> }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>As we have blueprint of zoom to take and process input, now we can implement the zooming function or behaviour. Firts lets test if we are being able to receive our inputs. I will just look at my <code>HandleRotation()</code> function and try to simulate the behaviour for safeguards.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleZoom</span><span style="color:#666666">()</span><span style="color:#DBD7CAEE"> </span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">zoomInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">WasPressedThisFrame</span><span style="color:#666666">())</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> zoomDelta</span><span style="color:#666666"> =</span><span style="color:#BD976A"> zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#4D9375">float</span><span style="color:#666666">&gt;();</span></span>
<span class="line"><span style="color:#BD976A">            Debug</span><span style="color:#666666">.</span><span style="color:#80A665">Log</span><span style="color:#666666">(</span><span style="color:#BD976A">zoomDelta</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>When we press play, we got debug messages on console confirming that we am receiving my inputs when we press assigned <code>R</code> and <code>F</code> keys.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251122-zoom_console.gif"/><br/><sub class="caption"><i>Lerp applied quantized step rotation</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="32-implementing-zoom-function">3.2. Implementing zoom function</h3>
<p>We are concluded that inputs are working. We can now define the behaviour. As we zoom in, we can either get close with camera, or tweak the camera parameters. I will go with simple first option. By zoom, I am defining a behaviour that camera moving on the axis of camDistance within defined tolerance space.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251125-zoom_behaviour.png"/><br/><sub class="caption"><i>Expected zoom behaviour</i></sub><sub class="image-source"><i></i></sub></p>
<p>And we can create fill out our <code>HandleZoom()</code></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleZoom</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">zoomInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // only react once per key scroll/press</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">WasPressedThisFrame</span><span style="color:#666666">())</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> zoomDelta</span><span style="color:#666666"> =</span><span style="color:#BD976A"> zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#4D9375">float</span><span style="color:#666666">&gt;();</span></span>
<span class="line"><span style="color:#BD976A">            targetZoomScale</span><span style="color:#CB7676"> -=</span><span style="color:#BD976A"> zoomDelta</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> zoomStep</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">            // we are clamping the value based on maximum and minimum limits that we have defined</span></span>
<span class="line"><span style="color:#BD976A">            targetZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Clamp</span><span style="color:#666666">(</span><span style="color:#BD976A">targetZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> minZoomMultiplier</span><span style="color:#666666">,</span><span style="color:#BD976A"> maxZoomMultiplier</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // we will implement lerp as before, but lets start with step function due to its simplicity</span></span>
<span class="line"><span style="color:#BD976A">        currentZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // we calculate new camera position</span></span>
<span class="line"><span style="color:#BD976A">        camPosition</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> currentRotationQuaternion</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> baseCamDistance</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> currentZoomScale</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        camDistance</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // we set actual camera and look at function as usual</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">        cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#80A665">LookAt</span><span style="color:#666666">(</span><span style="color:#BD976A">camTarget</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p>Result of our step-zoom function:</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251123-zoom_step.gif"/><br/><sub class="caption"><i>Step zoom function</i></sub><sub class="image-source"><i></i></sub></p>
<p>Now lets implement the lerp on our zoom function, so we simply replace where we assign currentZoomScale with lerping and we also add checkpoint to avoid float problems.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleZoom</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#CB7676">            ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#758575DD">            // we are clamping the value based on maximum and minimum limits that we have defined</span></span>
<span class="line"><span style="color:#BD976A">            targetZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Clamp</span><span style="color:#666666">(</span><span style="color:#BD976A">targetZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> minZoomMultiplier</span><span style="color:#666666">,</span><span style="color:#BD976A"> maxZoomMultiplier</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // smoothly interpolate actual zoom</span></span>
<span class="line"><span style="color:#BD976A">        currentZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Lerp</span><span style="color:#666666">(</span><span style="color:#BD976A">currentZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> zoomLerpSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#758575DD">        //if no visible change, skip</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Abs</span><span style="color:#666666">(</span><span style="color:#BD976A">currentZoomScale</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">)</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            currentZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">            return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676">        ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#DBD7CAEE">    }</span></span>
<span class="line"><span style="color:#CB7676">    ..</span><span style="color:#DBD7CAEE">.</span></span></code></pre>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251123-zoom_lerp.gif"/><br/><sub class="caption"><i>Zoom function with linear interpolation applied</i></sub><sub class="image-source"><i></i></sub></p>
<h3 id="33-transcribing-updatecamera-function">3.3. Transcribing UpdateCamera function</h3>
<p>As we do in previous section, we want to ensure coherence between translations and avoid repetition so we move HandleZoom() logic partially to UpdateCamera(). We will determine the repetitive part, as well as what is unique about HandleZoom(). First we cut the repetitive part from HandleZoom()</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#4D9375">    void</span><span style="color:#80A665"> HandleZoom</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // safeguard</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">zoomInputAction</span><span style="color:#CB7676"> ==</span><span style="color:#CB7676"> null</span><span style="color:#666666">)</span><span style="color:#4D9375"> return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#758575DD">        // only react once per key scroll/press</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">WasPressedThisFrame</span><span style="color:#666666">())</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#4D9375">            float</span><span style="color:#80A665"> zoomDelta</span><span style="color:#666666"> =</span><span style="color:#BD976A"> zoomInputAction</span><span style="color:#666666">.</span><span style="color:#80A665">ReadValue</span><span style="color:#666666">&lt;</span><span style="color:#4D9375">float</span><span style="color:#666666">&gt;();</span></span>
<span class="line"><span style="color:#BD976A">            targetZoomScale</span><span style="color:#CB7676"> -=</span><span style="color:#BD976A"> zoomDelta</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> zoomStep</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            targetZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Clamp</span><span style="color:#666666">(</span><span style="color:#BD976A">targetZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> minZoomMultiplier</span><span style="color:#666666">,</span><span style="color:#BD976A"> maxZoomMultiplier</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // smoothly interpolate actual zoom</span></span>
<span class="line"><span style="color:#BD976A">        currentZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Lerp</span><span style="color:#666666">(</span><span style="color:#BD976A">currentZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">,</span><span style="color:#BD976A"> zoomLerpSpeed</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> Time</span><span style="color:#666666">.</span><span style="color:#BD976A">deltaTime</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#758575DD">        //if no visible change, skip</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">Mathf</span><span style="color:#666666">.</span><span style="color:#80A665">Abs</span><span style="color:#666666">(</span><span style="color:#BD976A">currentZoomScale</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">)</span><span style="color:#666666"> &lt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            currentZoomScale</span><span style="color:#666666"> =</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#4D9375">            return</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#CB7676">        ..</span><span style="color:#DBD7CAEE">.</span></span>
<span class="line"><span style="color:#758575DD">        // we trim out the rest as calculations will be handled in UpdateCamera</span></span>
<span class="line"><span style="color:#758575DD">        // only thing we set here is the currentZoomFactor.</span></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>About update, the transform position is handled at end, so we cam remove last two lines. However, the position part looks pretty similar to rotation. While we use baseCamDistance to calculate, we need both zoom scale and rotation degree as parameters. So I will add my test on simply first if block. So the final version of our <code>UpdateCamera()</code> look like this.</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="cs"><code><span class="line"><span style="color:#CB7676">    private</span><span style="color:#4D9375"> void</span><span style="color:#80A665"> UpdateCamera</span><span style="color:#666666">()</span></span>
<span class="line"><span style="color:#666666">    {</span></span>
<span class="line"><span style="color:#758575DD">        // change camera variables if there is rotation or zoom</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">currentUpRotationInDeg</span><span style="color:#CB7676"> !=</span><span style="color:#BD976A"> targetUpRotationInDeg</span><span style="color:#CB7676"> ||</span><span style="color:#BD976A"> currentZoomScale</span><span style="color:#CB7676"> !=</span><span style="color:#BD976A"> targetZoomScale</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            currentRotationQuaternion</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Quaternion</span><span style="color:#666666">.</span><span style="color:#80A665">Euler</span><span style="color:#666666">(</span><span style="color:#4C9A91">0</span><span style="color:#666666">,</span><span style="color:#BD976A"> currentUpRotationInDeg</span><span style="color:#666666">,</span><span style="color:#4C9A91"> 0</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#BD976A">            camPosition</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> currentRotationQuaternion</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> baseCamDistance</span><span style="color:#CB7676"> *</span><span style="color:#BD976A"> currentZoomScale</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // change camera variable if there is movement</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">planarMoveVector</span><span style="color:#666666">.</span><span style="color:#BD976A">magnitude</span><span style="color:#666666"> &gt;</span><span style="color:#4C9A91"> 0.02f</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            camTarget</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> planarMoveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            camPosition</span><span style="color:#CB7676"> +=</span><span style="color:#BD976A"> planarMoveVector</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            planarMoveVector</span><span style="color:#666666"> =</span><span style="color:#BD976A"> Vector3</span><span style="color:#666666">.</span><span style="color:#BD976A">zero</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575DD">        // apply changes if there is change in camera position</span></span>
<span class="line"><span style="color:#4D9375">        if</span><span style="color:#666666"> (</span><span style="color:#BD976A">cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#CB7676"> !=</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">)</span></span>
<span class="line"><span style="color:#666666">        {</span></span>
<span class="line"><span style="color:#BD976A">            camDistance</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camTarget</span><span style="color:#CB7676"> -</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#BD976A">position</span><span style="color:#666666"> =</span><span style="color:#BD976A"> camPosition</span><span style="color:#666666">;</span></span>
<span class="line"><span style="color:#BD976A">            cam</span><span style="color:#666666">.</span><span style="color:#BD976A">transform</span><span style="color:#666666">.</span><span style="color:#80A665">LookAt</span><span style="color:#666666">(</span><span style="color:#BD976A">camTarget</span><span style="color:#666666">);</span></span>
<span class="line"><span style="color:#666666">        }</span></span>
<span class="line"><span style="color:#666666">    }</span></span></code></pre>
<p>Though this step we finally conclude and implemented all of our translation functions for pseudo-isometric camera and in its ready to go state!.</p>
<p class="img80"><img src="../..//linked_assets/20251113-blog-unity_pseudoisometric/20251123-pseudo_isometric.gif"/><br/><sub class="caption"><i>Movement, rotation, zoom all together</i></sub><sub class="image-source"><i></i></sub></p>
<p>If you are lost or could not reach the same results: here the final code for your comparison <a href="https://kutaycoskuner.github.io/blog/code/PseudoIsometricCamera">PseudoIsometricCamera.cs</a></p>
<h2 id="bonus-step-test-scene">Bonus step: Test scene</h2>
<p>I have cureated a small cc0 asset collection of cc0. To test out some of the graphics programming aspects. You you want to have the same scene as in the initial visual you can download or submodule this <a href="https://github.com/kutaycoskuner/yurt">repo</a>.</p>
<p>Shortly, I added as a submodule. On the root of my project I open terminal:</p>
<p><code>project_root</code></p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#80A665">git</span><span style="color:#C98A7D"> submodule</span><span style="color:#C98A7D"> add</span><span style="color:#C98A7D"> https://github.com/kutaycoskuner/yurt.git</span><span style="color:#C98A7D"> Assets/Assets/yurt</span></span></code></pre>
<p>Then I simply drag drop <code>obj</code> version of <code>outliner-testscene</code> to my scene. Next, I select my camera</p>
<pre class="astro-code vitesse-dark" style="background-color:#121212;color:#dbd7caee;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>    On the inspector &gt; camera &gt; environment &gt; background type: Solid Color (from skybox) </span></span></code></pre>
<p>Now we should be able to see only a solid color on our background. I have set it <code>#181818</code>.</p>
<p>Following the tutorial and the development experience is not always the same, it is pretty normal to encounter bugs, and problems. Although that I attempted to provide more, real-experience format rather than polished end result, it still shows some level of clarity. However, real problem solving coming from encountering problems, understanding and solving them. Expecting a linear progression is little bit overoptimistic, do not afraid of the process and solving problems!</p>
<p>As it is my second and most comprehensive attempt of tutorial, I would be happy to hear about your feedback about the pace, style and if would you be interested in such content. Thank you for your time!</p>
<h1 id="references">References</h1>
<p>[1] de Vries, Joey. <em>Camera</em>. n.d. Accessed (25 Nov 2025) <a href="https://learnopengl.com/Getting-started/Camera">https://learnopengl.com/Getting-started/Camera</a></p>
<p>[2] “Giving Personality to Procedural Animations using Math” [Video File]. <em>Uploaded by t3ssel8r, Youtube</em>. 2022. Accessed (23 Nov 2025) <a href="https://www.youtube.com/watch?v=KPoeNZZ6H4s">https://www.youtube.com/watch?v=KPoeNZZ6H4s</a></p>
<p>[3] Quilez, Inigo. <em>Graphtoy</em>. 2010. Accessed (23 Nov 2025) <a href="https://graphtoy.com/">https://graphtoy.com/</a></p>
<p>[4] Sanderson, Grant. “Linear transformations and matrices | Chapter 3, Essence of linear algebra” [Video File]. <em>Uploaded by 3Blue1Brown, Youtube</em>. 2016. Accessed (23 Nov 2025) <a href="https://www.youtube.com/watch?v=kYB8IZa5AuE">https://www.youtube.com/watch?v=kYB8IZa5AuE</a></p>
<p>[5] Santell, Jordan. <em>3D Projection</em>. 2019. Accessed (25 Nov 2025) <a href="https://jsantell.com/3d-projection/">https://jsantell.com/3d-projection/</a></p>
<p>[6] “Transform.LookAt”. <em>In Unity Documentation</em>. 2025. Accessed (25 Nov 2025) <a href="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Transform.LookAt.html">https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Transform.LookAt.html</a></p> </article> </div> <div class="toc-container no-select" data-astro-cid-amgwr4wo>  <div class="toc-title" data-astro-cid-amgwr4wo> <span style="color: var(--col)" data-astro-cid-amgwr4wo> <b data-astro-cid-amgwr4wo>Implemeting transform functions for peseudo-isometric camera in Unity</b> </span> </div> <span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#what-we-will-do" data-astro-cid-amgwr4wo> What we will do? </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-2" style="margin-left: 0.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#1-implementing-planar-movement" data-astro-cid-amgwr4wo> 1. Implementing planar movement </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#11-standards-on-3d-space-and-perceptualization-of-movement" data-astro-cid-amgwr4wo> 1.1. Standards on 3D Space and perceptualization of Movement </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#12-script-component-and-identification-of-camera" data-astro-cid-amgwr4wo> 1.2. Script component and Identification of camera </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#13-describing-the-behaviour-of-movement" data-astro-cid-amgwr4wo> 1.3. Describing the behaviour of movement </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-2" style="margin-left: 0.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#2-impliementing-quantized-step-rotation" data-astro-cid-amgwr4wo> 2. Impliementing quantized-step rotation </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#21-finding-the-positive-rotation" data-astro-cid-amgwr4wo> 2.1. Finding the positive rotation </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#21-implementing-pattern" data-astro-cid-amgwr4wo> 2.1. Implementing pattern </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#23-fixing-the-movement-logic" data-astro-cid-amgwr4wo> 2.3. Fixing the movement logic </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#24-rotation-animation-through-linear-interpolation" data-astro-cid-amgwr4wo> 2.4. Rotation animation through linear interpolation </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#25-combining-movements-with-new-camera-update-function" data-astro-cid-amgwr4wo> 2.5. Combining movements with new camera update function </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-2" style="margin-left: 0.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#3-implementing-quantized-step-zoom" data-astro-cid-amgwr4wo> 3. Implementing quantized-step zoom </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#31-creating-template-for-zoom" data-astro-cid-amgwr4wo> 3.1. Creating template for zoom </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#32-implementing-zoom-function" data-astro-cid-amgwr4wo> 3.2. Implementing zoom function </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-3" style="margin-left: 1.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#33-transcribing-updatecamera-function" data-astro-cid-amgwr4wo> 3.3. Transcribing UpdateCamera function </a> <br data-astro-cid-amgwr4wo> </span><span class="toc-item toc-level-2" style="margin-left: 0.5em;" data-astro-cid-amgwr4wo> <a class="toc-content" href="#bonus-step-test-scene" data-astro-cid-amgwr4wo> Bonus step: Test scene </a> <br data-astro-cid-amgwr4wo> </span> </div>  <div class="main" data-astro-cid-amgwr4wo> <div id="comments-giscus" data-astro-cid-amgwr4wo> <script src="https://giscus.app/client.js" data-repo="kutaycoskuner/blog" data-repo-id="R_kgDOQT2KRQ" data-category="Comments" data-category-id="DIC_kwDOQT2KRc4Cx1Ia" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="transparent_dark" data-lang="en" data-loading="lazy" crossorigin="anonymous" async></script> </div> </div>  </div> </body></html> 